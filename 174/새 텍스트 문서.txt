[아두이노#174] esp8266wifi 워터펌프&워터플로우센서(YF-S401) 제어해보기(wemos d1r1/사물인터넷(iot)시리즈#17/녹칸다/포로리야공대가자)

esp8266wifi 워터펌프&워터플로우센서(YF-S401) 제어해보기(wemos d1r1/사물인터넷(iot)시리즈#17/녹칸다/포로리야공대가자)
-이번 예제의 핵심은 사물인터넷 보드 wemos d1r1에서 인터럽트를 활용할 수 있는가 하는 것이다!
-만약 가능하다면 플로우센서(YF-S401)를 이용해서 워터펌프가 펌프질한 물의양을 알아낼 수 있을 것이다(정확하지는 않더라도..)
-워터펌프는 DC모터와 동일한 개념이므로 릴레이나 모스펫을 이용해서 구현해보도록 한다!(이미 해답을 가지고 있는 예제)
-wemos d1r1을 서버(server)모드로 동작시켜보자
-워터펌프를 웹브라우저로 제어
-클라이언트에게 제어할 수 있는 인터페이스를 전송해보자!
-GET방식으로 구현해보자!
-워터펌프&워터플로우센서(YF-S401)와 wemos d1r1을 활용한 사물인터넷(IoT) 예제를 구현해보자!

 

샘플html 문서

pump&flowsensor.html
0.00MB

(모스펫 mosfet 버전)


(릴레이 relay 버전)


제 174-1 사물인터넷보드(wemos d1r1)에 워터펌프와 플로우센서를 연결했다!
 * 워터펌프는 모스펫이나 릴레이를 이용해서 D4에 연결하고
 * 플로우센서는 D3에 연결했다!
 * 버튼을 눌렀을때 워터펌프가 작동하도록 하기 위해서 D5에 버튼을 달았다!
 * 이번강의의 핵심은 사물인터넷보드에 인터럽트가 작동되는지 하는 것이다!
 * 결론적으로 인터럽트로 호출되는 함수앞에 ICACHE_RAM_ATTR를 붙혀주면 된다!

174-1.txt
0.00MB

예제174-2 사물인터넷보드(wemos d1r1)에 사물인터넷 기본코드를 웹서버모드로 올리고
    174-1에서 구현한 결과를 이용해서 노트북이나 스마트폰의 웹브라우저에서 워터펌프를 제어할 수 있도록 해보자!

174-2.txt
0.00MB
레퍼런스강의(49-2)

https://bota.tistory.com/1200