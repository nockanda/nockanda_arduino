[{"id":"d4fe52b8.55a31","type":"tab","label":"플로우 1","disabled":false,"info":""},{"id":"b63215ab.962e58","type":"serial in","z":"d4fe52b8.55a31","name":"","serial":"ebcc379f.d04a68","x":130,"y":240,"wires":[["4ab6fdcf.d5b994"]]},{"id":"4ab6fdcf.d5b994","type":"json","z":"d4fe52b8.55a31","name":"","property":"payload","action":"","pretty":false,"x":280,"y":240,"wires":[["6efac5fb.c0c8dc","60c514db.1901ec","d784fb4e.dde4e8","e09d6a4e.248678","c1392fec.80118","41a4e379.c1e5ec","4ce44d17.e8be54","eb73e065.09c18","c35bb758.0aa8e8","6fb79747.c00778","e1dd1bc6.84a548","891daf84.c5e7e","36c18c30.d0b284","458d93ad.491b7c","97648641.375098","57a4b685.f7ad48"]]},{"id":"6efac5fb.c0c8dc","type":"ui_text","z":"d4fe52b8.55a31","group":"30b5144.689caec","order":0,"width":0,"height":0,"name":"","label":"토양센서","format":"{{msg.payload.soil}}","layout":"row-spread","x":460,"y":80,"wires":[]},{"id":"60c514db.1901ec","type":"ui_text","z":"d4fe52b8.55a31","group":"91f945bf.3f26b8","order":0,"width":0,"height":0,"name":"","label":"광센서","format":"{{msg.payload.cds}}","layout":"row-spread","x":440,"y":220,"wires":[]},{"id":"d784fb4e.dde4e8","type":"ui_text","z":"d4fe52b8.55a31","group":"c64ab8d6.5e1f38","order":0,"width":0,"height":0,"name":"","label":"습도센서(%)","format":"{{msg.payload.humi}}","layout":"row-spread","x":460,"y":300,"wires":[]},{"id":"e09d6a4e.248678","type":"ui_text","z":"d4fe52b8.55a31","group":"c7ba8c9e.b0b55","order":0,"width":0,"height":0,"name":"","label":"온도센서('C)","format":"{{msg.payload.temp}}","layout":"row-spread","x":460,"y":380,"wires":[]},{"id":"c1392fec.80118","type":"ui_text","z":"d4fe52b8.55a31","group":"e97e673a.301ef8","order":0,"width":0,"height":0,"name":"","label":"이산화탄소농도(PPM)","format":"{{msg.payload.co2}}","layout":"row-spread","x":490,"y":460,"wires":[]},{"id":"23fdb584.17cc9a","type":"ui_switch","z":"d4fe52b8.55a31","name":"","label":"워터펌프제어","tooltip":"","group":"d2c6ee3.7c5191","order":0,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"{\"msg\":\"pump\",\"cmd\":\"1\"}","onvalueType":"json","onicon":"","oncolor":"","offvalue":"{\"msg\":\"pump\",\"cmd\":\"0\"}","offvalueType":"json","officon":"","offcolor":"","animate":false,"x":200,"y":800,"wires":[["98378670.064888"]]},{"id":"98378670.064888","type":"serial out","z":"d4fe52b8.55a31","name":"","serial":"ebcc379f.d04a68","x":410,"y":800,"wires":[]},{"id":"41a4e379.c1e5ec","type":"ui_text","z":"d4fe52b8.55a31","group":"eb9519a9.7db0d8","order":0,"width":0,"height":0,"name":"","label":"유속센서(mL)","format":"{{msg.payload.water}}","layout":"row-spread","x":460,"y":500,"wires":[]},{"id":"f58106e4.adc478","type":"ui_text","z":"d4fe52b8.55a31","group":"eb9519a9.7db0d8","order":0,"width":0,"height":0,"name":"","label":"수위센서","format":"{{msg.result}}","layout":"row-spread","x":460,"y":580,"wires":[]},{"id":"4ce44d17.e8be54","type":"function","z":"d4fe52b8.55a31","name":"","func":"\nif(msg.payload.level == \"1\"){\n    msg.result = \"물부족!\";\n}else if(msg.payload.level == \"2\"){\n    msg.result = \"정상!\";\n}else if(msg.payload.level == \"3\"){\n    msg.result = \"넘침!\";\n}\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":250,"y":580,"wires":[["f58106e4.adc478"]]},{"id":"eb73e065.09c18","type":"ui_gauge","z":"d4fe52b8.55a31","name":"","group":"30b5144.689caec","order":1,"width":0,"height":0,"gtype":"wave","title":"토양습도센서","label":"","format":"{{msg.payload.soil}}","min":0,"max":"1023","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":470,"y":40,"wires":[]},{"id":"c35bb758.0aa8e8","type":"ui_gauge","z":"d4fe52b8.55a31","name":"","group":"91f945bf.3f26b8","order":1,"width":0,"height":0,"gtype":"gage","title":"광센서(CDS)","label":"units","format":"{{msg.payload.cds}}","min":0,"max":"1023","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":460,"y":180,"wires":[]},{"id":"6fb79747.c00778","type":"ui_gauge","z":"d4fe52b8.55a31","name":"","group":"c64ab8d6.5e1f38","order":1,"width":0,"height":0,"gtype":"gage","title":"습도센서(%)","label":"units","format":"{{msg.payload.humi}}","min":0,"max":"100","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":460,"y":260,"wires":[]},{"id":"e1dd1bc6.84a548","type":"ui_gauge","z":"d4fe52b8.55a31","name":"","group":"c7ba8c9e.b0b55","order":1,"width":0,"height":0,"gtype":"gage","title":"온도센서('C)","label":"units","format":"{{msg.payload.temp}}","min":"-10","max":"60","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":460,"y":340,"wires":[]},{"id":"891daf84.c5e7e","type":"ui_gauge","z":"d4fe52b8.55a31","name":"","group":"e97e673a.301ef8","order":1,"width":0,"height":0,"gtype":"gage","title":"Co2센서(PPM)","label":"units","format":"{{msg.payload.co2}}","min":"0","max":"5000","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":470,"y":420,"wires":[]},{"id":"88f10cd6.7e649","type":"ui_text","z":"d4fe52b8.55a31","group":"d2c6ee3.7c5191","order":0,"width":0,"height":0,"name":"","label":"워터펌프의상태","format":"{{msg.result}}","layout":"row-spread","x":480,"y":660,"wires":[]},{"id":"36c18c30.d0b284","type":"function","z":"d4fe52b8.55a31","name":"","func":"\nif(msg.payload.pump == \"0\"){\n    msg.result = \"워터펌프OFF\";\n}else if(msg.payload.pump == \"1\"){\n    msg.result = \"워터펌프ON\";\n}\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":260,"y":660,"wires":[["88f10cd6.7e649"]]},{"id":"b361702b.f3f6e","type":"ui_template","z":"d4fe52b8.55a31","group":"91f945bf.3f26b8","name":"","order":2,"width":"4","height":"4","format":"<img src=\"{{msg.payload}}\">","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":610,"y":140,"wires":[[]]},{"id":"458d93ad.491b7c","type":"function","z":"d4fe52b8.55a31","name":"","func":"if(msg.payload.cds >300){\n    msg.payload = \"/day.png\";\n}else{\n    msg.payload = \"/night.png\";\n}\n\n\nreturn msg;\n","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":460,"y":140,"wires":[["b361702b.f3f6e"]]},{"id":"16a7025d.c353de","type":"ui_chart","z":"d4fe52b8.55a31","name":"","group":"eb9519a9.7db0d8","order":2,"width":0,"height":0,"label":"유속센서(mL)","chartType":"line","legend":"false","xformat":"HH:mm:ss","interpolate":"linear","nodata":"","dot":false,"ymin":"","ymax":"","removeOlder":1,"removeOlderPoints":"30","removeOlderUnit":"3600","cutout":0,"useOneColor":false,"useUTC":false,"colors":["#1f77b4","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"outputs":1,"useDifferentColor":false,"x":580,"y":540,"wires":[[]]},{"id":"97648641.375098","type":"change","z":"d4fe52b8.55a31","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.water","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":400,"y":540,"wires":[["16a7025d.c353de"]]},{"id":"57a4b685.f7ad48","type":"ui_gauge","z":"d4fe52b8.55a31","name":"","group":"eb9519a9.7db0d8","order":3,"width":0,"height":0,"gtype":"wave","title":"gauge","label":"units","format":"{{msg.payload.level}}","min":"1","max":"3","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":450,"y":620,"wires":[]},{"id":"bcf28d67.2e79","type":"ui_switch","z":"d4fe52b8.55a31","name":"","label":"수위센서 워터펌프 자동멈춤","tooltip":"","group":"d2c6ee3.7c5191","order":0,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"{\"msg\":\"auto1\",\"cmd\":\"1\"}","onvalueType":"json","onicon":"","oncolor":"","offvalue":"{\"msg\":\"auto1\",\"cmd\":\"0\"}","offvalueType":"json","officon":"","offcolor":"","animate":false,"x":200,"y":840,"wires":[["98378670.064888"]]},{"id":"86f2031c.33fa7","type":"ui_button","z":"d4fe52b8.55a31","name":"","group":"eb9519a9.7db0d8","order":4,"width":0,"height":0,"passthru":false,"label":"유속센서값 초기화","tooltip":"","color":"","bgcolor":"","icon":"","payload":"{\"msg\":\"flow\",\"cmd\":\"0\"}","payloadType":"json","topic":"topic","topicType":"msg","x":190,"y":760,"wires":[["98378670.064888"]]},{"id":"ebcc379f.d04a68","type":"serial-port","serialport":"COM6","serialbaud":"115200","databits":"8","parity":"none","stopbits":"1","waitfor":"","dtr":"none","rts":"none","cts":"none","dsr":"none","newline":"\\n","bin":"false","out":"char","addchar":"\\r","responsetimeout":"10000"},{"id":"30b5144.689caec","type":"ui_group","name":"Group 1","tab":"b6ba72ff.7f52","order":1,"disp":false,"width":"6","collapse":false},{"id":"91f945bf.3f26b8","type":"ui_group","name":"Group 2","tab":"b6ba72ff.7f52","order":2,"disp":false,"width":"6","collapse":false},{"id":"c64ab8d6.5e1f38","type":"ui_group","name":"Group 3","tab":"b6ba72ff.7f52","order":3,"disp":false,"width":"6","collapse":false},{"id":"c7ba8c9e.b0b55","type":"ui_group","name":"Group 4","tab":"b6ba72ff.7f52","order":4,"disp":false,"width":"6","collapse":false},{"id":"e97e673a.301ef8","type":"ui_group","name":"Group 5","tab":"b6ba72ff.7f52","order":5,"disp":false,"width":"6","collapse":false},{"id":"d2c6ee3.7c5191","type":"ui_group","name":"Group 6","tab":"b6ba72ff.7f52","order":6,"disp":true,"width":6},{"id":"eb9519a9.7db0d8","type":"ui_group","name":"Group 7","tab":"b6ba72ff.7f52","order":7,"disp":true,"width":6},{"id":"b6ba72ff.7f52","type":"ui_tab","name":"Tab 1","icon":"dashboard","order":1}]