[{"id":"d4fe52b8.55a31","type":"tab","label":"플로우 1","disabled":false,"info":""},{"id":"d41e5cad.c0f5a","type":"serial in","z":"d4fe52b8.55a31","name":"","serial":"ebcc379f.d04a68","x":70,"y":360,"wires":[["8b828b5.5283478"]]},{"id":"8b828b5.5283478","type":"json","z":"d4fe52b8.55a31","name":"","property":"payload","action":"","pretty":false,"x":250,"y":340,"wires":[["7a39e118.df3fc","65a8bd12.a0fb44","2f7d4eb9.869092","ea7613a.a6ad4f","67e97bc5.c68164"]]},{"id":"6acfc59e.1a971c","type":"ui_text","z":"d4fe52b8.55a31","group":"91f945bf.3f26b8","order":0,"width":0,"height":0,"name":"","label":"순간전류(mA)","format":"{{msg.payload}}","layout":"row-spread","x":480,"y":380,"wires":[]},{"id":"ea7613a.a6ad4f","type":"ui_text","z":"d4fe52b8.55a31","group":"c64ab8d6.5e1f38","order":0,"width":0,"height":0,"name":"","label":"순간전력(W)","format":"{{msg.payload.W}}","layout":"row-spread","x":470,"y":420,"wires":[]},{"id":"7a39e118.df3fc","type":"ui_text","z":"d4fe52b8.55a31","group":"c7ba8c9e.b0b55","order":0,"width":0,"height":0,"name":"","label":"전력량(Wh)","format":"{{msg.payload.WH}}","layout":"row-spread","x":470,"y":460,"wires":[]},{"id":"cf144c53.45e52","type":"ui_switch","z":"d4fe52b8.55a31","name":"","label":"전구제어!","tooltip":"","group":"e97e673a.301ef8","order":0,"width":0,"height":0,"passthru":true,"decouple":"false","topic":"topic","topicType":"msg","style":"","onvalue":"1","onvalueType":"str","onicon":"","oncolor":"","offvalue":"0","offvalueType":"str","officon":"","offcolor":"","animate":false,"x":160,"y":520,"wires":[["8b71b2ef.ad67f"]]},{"id":"8b71b2ef.ad67f","type":"serial out","z":"d4fe52b8.55a31","name":"","serial":"ebcc379f.d04a68","x":450,"y":520,"wires":[]},{"id":"65a8bd12.a0fb44","type":"change","z":"d4fe52b8.55a31","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.W","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":320,"y":200,"wires":[["5bcde751.52a708","9d9c5747.456488"]]},{"id":"2f7d4eb9.869092","type":"function","z":"d4fe52b8.55a31","name":"","func":"\nvar data = msg.payload.I;\n\ndata = data * 1000;\n\ndata = Math.floor(data*100);\ndata = data / 100;\n\nmsg.payload = data;\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":300,"y":240,"wires":[["6acfc59e.1a971c","ca9ab1f5.d1b69"]]},{"id":"ca9ab1f5.d1b69","type":"ui_gauge","z":"d4fe52b8.55a31","name":"","group":"91f945bf.3f26b8","order":2,"width":0,"height":0,"gtype":"gage","title":"순간전류(mA)","label":"mA","format":"{{value}}","min":0,"max":"200","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":520,"y":240,"wires":[]},{"id":"5bcde751.52a708","type":"ui_gauge","z":"d4fe52b8.55a31","name":"","group":"c64ab8d6.5e1f38","order":2,"width":0,"height":0,"gtype":"gage","title":"순간전력(W)","label":"(W)","format":"{{value}}","min":0,"max":"100","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":510,"y":200,"wires":[]},{"id":"fb2489ab.d27be8","type":"ui_text","z":"d4fe52b8.55a31","group":"e97e673a.301ef8","order":1,"width":0,"height":0,"name":"","label":"전기요금","format":"{{msg.payload}}","layout":"row-spread","x":500,"y":100,"wires":[]},{"id":"78a76516.ee65ac","type":"function","z":"d4fe52b8.55a31","name":"","func":"\nmsg.payload = msg.payload * 0.91;\nmsg.payload = Math.floor(msg.payload*100);\n\nmsg.payload = msg.payload/100;\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":300,"y":100,"wires":[["fb2489ab.d27be8"]]},{"id":"bed0c934.667478","type":"ui_text","z":"d4fe52b8.55a31","group":"e97e673a.301ef8","order":1,"width":0,"height":0,"name":"","label":"어떤전구일까?","format":"{{msg.payload}}","layout":"row-spread","x":500,"y":60,"wires":[]},{"id":"9d9c5747.456488","type":"function","z":"d4fe52b8.55a31","name":"","func":"\nif(msg.payload > 10) {\n    msg.payload = \"2번전구입니다!\";\n}else{\n    msg.payload = \"1번전구입니다!\";\n}\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":300,"y":60,"wires":[["bed0c934.667478"]]},{"id":"67e97bc5.c68164","type":"change","z":"d4fe52b8.55a31","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.WH","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":320,"y":160,"wires":[["78a76516.ee65ac"]]},{"id":"ebcc379f.d04a68","type":"serial-port","serialport":"COM6","serialbaud":"115200","databits":"8","parity":"none","stopbits":"1","waitfor":"","dtr":"none","rts":"none","cts":"none","dsr":"none","newline":"\\n","bin":"false","out":"char","addchar":"\\r","responsetimeout":"10000"},{"id":"91f945bf.3f26b8","type":"ui_group","name":"Group 2","tab":"b6ba72ff.7f52","order":2,"disp":false,"width":"6","collapse":false},{"id":"c64ab8d6.5e1f38","type":"ui_group","name":"Group 3","tab":"b6ba72ff.7f52","order":3,"disp":false,"width":"6","collapse":false},{"id":"c7ba8c9e.b0b55","type":"ui_group","name":"Group 4","tab":"b6ba72ff.7f52","order":4,"disp":false,"width":"6","collapse":false},{"id":"e97e673a.301ef8","type":"ui_group","name":"Group 5","tab":"b6ba72ff.7f52","order":5,"disp":false,"width":"6","collapse":false},{"id":"b6ba72ff.7f52","type":"ui_tab","name":"Tab 1","icon":"dashboard","order":1}]