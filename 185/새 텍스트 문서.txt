[아두이노#185] esp8266wifi MQTT로 초음파센서(HCSR04) 제어하기(wemos d1r1/사물인터넷(iot)시리즈#28/녹칸다/포로리야공대가자)

esp8266wifi MQTT로 초음파센서(HCSR04) 제어하기(wemos d1r1/사물인터넷(iot)시리즈#28/녹칸다/포로리야공대가자)
-사물인터넷보드(wemos d1r1)에 초음파센서(HC-SR04)를 달아서 아두이노 코드가 호환되는지 확인해보자!
-MQTT를 이용해서 스마트폰에 초음파센서값을 publish 해보자!
-서보모터를 1개 추가해서 초음파센서를 매달아보자!
-MQTT로 스마트폰에서 publish하는 각도로 서버모터를 제어하고 이때 측정된 초음파센서값을 subscribe 해보자!

예제 185-1 사물인터넷보드(wemos d1r1)에 초음파센서(HC-SR04)를 연결했다!
 * trig핀을 D3에 연결했고 Echo핀을 D4에 연결했다!
 * 초음파센서를 이용해서 거리를 계산해보라!
 * 초음파센서로 거리측정을 위한 함수 pulsein에서 timeout을 10ms로 지정하라!


185-1.txt
0.00MB

예제 185-2 초음파센서를 연결해놓은 사물인터넷보드에 MQTT기본코드를 집어넣고
  특정한 topic을 지정한다음 스마트폰에 값을 날려보자!

185-2.txt
0.00MB

예제 185-3 초음파센서와 서보모터를 함께 연결해서 양방향 MQTT를 테스트하는 예제!
  먼저 사물이터넷보드는 스마트폰쪽으로 초음파센서값을 publish하고,
  스마트폰은 사물인터넷보드 쪽으로 서보모터 각도값을 publish한다!


185-3.txt
0.00MB
관련라이브러리(pubsubclient)

https://pubsubclient.knolleary.net/

레퍼런스강의(#27-2)

https://bota.tistory.com/1155