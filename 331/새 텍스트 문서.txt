[아두이노#331] (LoRa#6)LoRa모듈(SX1276)을 이용해서 IoT보드(ESP8266)에서 데이터를 수집하는 전략 구상해보기!(녹칸다/포로리야공대가자)

(LoRa#6)LoRa모듈(SX1276)을 이용해서 IoT보드(ESP8266)에서 데이터를 수집하는 전략 구상해보기!
녹칸다의 아두이노 예제에서 LoRa모듈을 활용하는 시리즈중 1:1 양방향에 대한 내용이다!
LoRa모듈인 SX1276을 최근 구입했는데 장거리 무선통신을 할 수 있는 모듈이다!
스펙상 5~6km거리에서도 송수신이 가능하다고 한다!(이건 추후에 검증해보도록 한다!)
다른 RF모듈과 다르게 LoRa모듈이 사용하는 주파수대역은 좀 엄격하다!
그러므로 꼼꼼히 따져보고 활용을 해야 할 것 같은데 녹칸다도 이분야 전문가가 아니므로 확신은 할 수 없다!
즉 본 내용을 참고만 하되 자료를 활용할때 문제가 되는 부분은 스스로 다시 확인할 필요가 있다!
(주의! 녹칸다가 구현한 코드를 외부에서 실사용해서 발생한 위법문제는 본인 책임임!)
추후 녹칸다가 외부에서 테스트 할 일이 생기면 주변 전문가에게 자문을 해볼 예정임!(아직은 잘 모르겠음)
이번편은 LoRa를 이용해서 수집한 데이터를 거점에서 거점으로 옮기기 위한 기본 전략을 구상해보는 시간이다!
LoRa가 물론 아주 넓은 커버리지를 가지는 통신이기는 하지만 부산에서 생긴 데이터를 서울로 옮길 수 는 없다!
그러므로 여러대의 노드(node)의 데이터를 거점이 되는 게이트웨이(gateway)로 수집한다음 사물인터넷(IoT)의 해법을 이용해서 데이터를 전송할 필요가 있다!
아두이노 우노는 인터넷에 연결이 어렵기 때문에 녹칸다의 아두이노 예제에서 IoT용으로 사용되는 사물인터넷보드인 wemos d1r1을 사용해서 극복해보도록 한다!
wemos d1r1은 esp8266을 아두이노처럼 쓸 수 있도록 편리하게 만들어놓은 보드이다!
사물인터넷 해법중에 MQTT를 이용해서 데이터를 넘기는게 제일 좋을 것 같다!
아래와 같은 내용을 진행해보도록 하자!
-사물인터넷보드(wemos d1r1)에 LoRa모듈(SX1276)을 연결해서 게이트웨이(gateway)로 설정하고 다른 노드와 양방향통신이 가능한지 확인해보자!
-아두이노 우노를 이용해서 LoRa노드를 3대 구현하고 가상의 센서값을 게이트웨이로 전송한다음, 사물인터넷보드에서 MQTT를 이용해서 데이터를 publish해보자!
-이때 각 노드를 식별할 수 있는 식별자와 데이터를 포함하는 JSON형태의 데이터를 payload에 담은다음 결과는 스마트폰에서 확인 할 수 있도록 해보자!

 

관련라이브러리(LoRa/0.8.0)
https://github.com/sandeepmistry/arduino-LoRa


(예제순서)

1.사물인터넷보드(wemos d1r1)와 아두이노 우노에 각각 LoRa모듈을 연결하고 송수신이 잘되는지 확인하는 예제!
2.IoT-LoRa게이트웨이에서 수신한 값을 MQTT로 스마트폰에 값을 전송하는 예제!(rawdata)
3.LoRa노드에 가상의 온습도센서가 있다고 할때 노드의 디바이스번호와 온도와 습도값을 게이트웨이에서 수신한다음 JSON형태로 직렬화해서 MQTT로 데이터를 전달하시오!

4.(3)예제에서 노드를 2대더 추가해서 1:3구성으로 게이트웨이에 데이터 수집이 잘 되는 것을 확인하고 MQTT로 데이터를 전달하시오!

 


331-1-1(IoT게이트웨이).txt
0.00MB
331-1-2(노드).txt
0.00MB
331-2-1(IoT게이트웨이).txt
0.00MB
331-2-2(노드).txt
0.00MB
331-3-1(IoT게이트웨이).txt
0.00MB
331-3-2(노드).txt
0.00MB

331-4-1(IoT게이트웨이).txt
0.01MB
331-4-2(노드1).txt
0.00MB
331-4-3(노드2).txt
0.00MB
331-4-4(노드3).txt
0.00MB
 

 


   
