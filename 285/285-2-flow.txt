[{"id":"d00468c7.f49a28","type":"tab","label":"플로우 2","disabled":false,"info":""},{"id":"e372658e.b8f628","type":"mqtt in","z":"d00468c7.f49a28","name":"","topic":"nockanda/rfid","qos":"2","datatype":"auto","broker":"b300b90d.5b3268","nl":false,"rap":true,"rh":0,"x":90,"y":380,"wires":[["a98c189a.2bc318","21eb8391.c8b27c","7033db9d.8df514"]]},{"id":"a98c189a.2bc318","type":"ui_text","z":"d00468c7.f49a28","group":"dcdc0d14.9c98e","order":0,"width":0,"height":0,"name":"","label":"RFID","format":"{{msg.payload}}","layout":"row-spread","x":390,"y":400,"wires":[]},{"id":"980d9487.8d6828","type":"mysql","z":"d00468c7.f49a28","mydb":"32efad14.604282","name":"","x":270,"y":520,"wires":[["6aa09128.f1b13"]]},{"id":"21eb8391.c8b27c","type":"function","z":"d00468c7.f49a28","name":"","func":"var id = msg.payload;\n\nmsg.topic = \"select * from nockanda_center where id='\"+id+\"'\";\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":100,"y":540,"wires":[["980d9487.8d6828"]]},{"id":"9abdeabc.e32c98","type":"ui_text","z":"d00468c7.f49a28","group":"dcdc0d14.9c98e","order":0,"width":0,"height":0,"name":"","label":"성함","format":"{{msg.payload[0].name}}","layout":"row-spread","x":470,"y":520,"wires":[]},{"id":"4a5a0595.b2ffbc","type":"ui_text","z":"d00468c7.f49a28","group":"dcdc0d14.9c98e","order":0,"width":0,"height":0,"name":"","label":"나이","format":"{{msg.payload[0].age}}","layout":"row-spread","x":470,"y":560,"wires":[]},{"id":"f69b2b2.8447bd8","type":"ui_text","z":"d00468c7.f49a28","group":"dcdc0d14.9c98e","order":0,"width":0,"height":0,"name":"","label":"성별","format":"{{msg.payload[0].gender}}","layout":"row-spread","x":470,"y":600,"wires":[]},{"id":"6aa09128.f1b13","type":"function","z":"d00468c7.f49a28","name":"","func":"if(msg.payload.length == 0){\n    //결과 없음\n    \n    var data = {name:\"존재하지 않는 회원\",age:\"\",gender:\"\"};\n    \n    msg.payload = [data];\n}\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":310,"y":620,"wires":[["9abdeabc.e32c98","4a5a0595.b2ffbc","f69b2b2.8447bd8","e3f9e0b7.5f3ed","a9b23257.1bba7"]]},{"id":"7033db9d.8df514","type":"function","z":"d00468c7.f49a28","name":"","func":"var id = msg.payload;\nvar date = new Date();\n\nmsg.topic = \"insert into in_out values('\"+id+\"','\"+date+\"')\";\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","libs":[],"x":100,"y":660,"wires":[["c283864d.f46368"]]},{"id":"c283864d.f46368","type":"mysql","z":"d00468c7.f49a28","mydb":"32efad14.604282","name":"","x":270,"y":700,"wires":[[]]},{"id":"e3f9e0b7.5f3ed","type":"ui_template","z":"d00468c7.f49a28","group":"dcdc0d14.9c98e","name":"","order":4,"width":"6","height":"6","format":"<img src=/{{msg.payload[0].img_path}}>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":480,"y":480,"wires":[[]]},{"id":"86509b9.5acb068","type":"ui_audio","z":"d00468c7.f49a28","name":"","group":"dcdc0d14.9c98e","voice":"Google 한국의","always":"","x":480,"y":320,"wires":[]},{"id":"a9b23257.1bba7","type":"change","z":"d00468c7.f49a28","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload[0].name","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":280,"y":320,"wires":[["86509b9.5acb068"]]},{"id":"b300b90d.5b3268","type":"mqtt-broker","name":"nockanda broker","broker":"broker.mqtt-dashboard.com","port":"1883","clientid":"","usetls":false,"protocolVersion":"4","keepalive":"60","cleansession":true,"birthTopic":"","birthQos":"0","birthPayload":"","birthMsg":{},"closeTopic":"","closeQos":"0","closePayload":"","closeMsg":{},"willTopic":"","willQos":"0","willPayload":"","willMsg":{},"sessionExpiry":""},{"id":"dcdc0d14.9c98e","type":"ui_group","name":"Group 9","tab":"b6ba72ff.7f52","order":1,"disp":true,"width":6},{"id":"32efad14.604282","type":"MySQLdatabase","name":"","host":"127.0.0.1","port":"3306","db":"arduino285","tz":"","charset":"UTF8"},{"id":"b6ba72ff.7f52","type":"ui_tab","name":"Tab 1","icon":"dashboard","order":1}]