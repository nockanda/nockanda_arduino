[아두이노#346] modbus rtu 디지털전력량계(SDM120) 아두이노로 제어해보기! (RS485/modbus rtu#3/녹칸다/포로리야공대가자)

modbus rtu 디지털전력량계(SDM120) 아두이노로 제어해보기! (RS485/modbus rtu#3)
녹칸다의 rs485 modbus rtu 시리즈이다!
녹칸다의 RS485예제(#124)는 이미 구현되어있지만 자체적인 프레임 규격을 가지고 있어서 modbus에 적용하기에는 어려운 상태이다!
과거 구현했던 RS485예제를 modbus 규격에 맞도록 수정하고 아두이노와 연결해서 활용하는 것을 목표로 하는 시리즈이다!
이번편에서는 modbus rtu로 제어되는 디지털전력량계(SDM120)을 아두이노에서 제어할 수 있는지 알아보자!
SDM120은 관련된 라이브러리가 있지만 그거 사용하지 말고 녹칸다의 방식으로 새롭게 만들어 나가보자!
sdm120은 데이터를 가공하는 방법?이 약간 어려울 수 있다!
아래와 같은 순서로 진행해보도록 하자!
1.연결하고 기술문서를 살펴보면서 제어방법에 대해서 알아보기!
2.기술문서에 있는 내용을 함수화 해보기!
3.float to byte array와 byte array to float 변환에 대해서 알아보자!(UNION)
4.여튼 전체 결과를 시리얼 모니터에 출력해보기!
5.220V전구를 연결해서 전력량이 잘 측정되는지 확인해보기!
6.전기를 사용중이면 LED를 켜보기!
7.측정된 전력량을 FND모듈을 이용해서 표현해보기!

(SDM120프로토콜)
https://github.com/ngharry/SDM120-Modbus/tree/master/doc

 

 


346-1(sdm120에서 필요한값 읽어오기).txt
0.01MB

346-2(부하의 작동상태를 led로 표현하는 예제).txt
0.01MB

346-3(fnd모듈3개에값을띄우는예제.txt
0.01MB
▼회로도 없음

346-4(직접계산하는누적전력량).txt
0.01MB
346-5(전력량계랑4채널릴레이를짬뽕시킨에제).txt
0.01MB

   

 

좋아요공감
공유하기통계글 요소
저작자표시비영리변경금지