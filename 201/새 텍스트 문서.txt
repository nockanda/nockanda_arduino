[아두이노#201] esp8266wifi MQTT와 비접촉전류센서(SCT013-030)를 이용한 전력모니터링(wemos d1r1/사물인터넷(iot)시리즈#40/녹칸다/포로리야공대가자)

esp8266wifi MQTT와 비접촉전류센서(SCT013-030)를 이용한 전력모니터링(wemos d1r1/사물인터넷(iot)시리즈#40/녹칸다/포로리야공대가자)
-아두이노에서 비접촉전류센서를 활용한 예제를 그대로 사물인터넷보드(wemos d1r1)에 적용을 해보자!
-녹칸다가 파악하기로 비접촉전류센서는 아날로그포트 1개가 필요한데, 사물인터넷보드에 유일하게 아날로그 포트가 1개있다!
-그러므로 일단은 사용가능?할 것이라고 판단한다!
-아두이노에서 적용했던대로 진행하되 사용상의 어떤 차이점이 있을지 확인해보자!
-센서로 측정되는 값이 유의미하다고 판단되면 아래와 같은 추가 프로젝트를 진행해보자!
-1602 LCD에 전류와 전력값을 디스플레이 해보자!
-MQTT를 이용해서 사물인터넷보드에서 측정한 전류값과 전력값을 스마트폰으로 publish해보자!

예제 201-1 사물인터넷보드(wemos d1r1)에 비접촉전류센서(SCT013-030)을 연결했다.
  비접촉전류센서의 아날로그핀은 A0에 연결했다. 거기가 유일하기 때문이다..
  상수부분은 계산하는 과정을 정확히 파악하기가 힘들어서 실험적으로 그냥 18이라고 해놨다.
  10W짜리 전구와 25W짜리 전구를 이용해봤을때 그정도가 가장 적절해 보였다!


201-1.txt
0.00MB

예제 201-2 1602LCD를 사물인터넷보드에 연결해보자!
  1602LCD는 i2c모듈이 장착되어있는 LCD를 사용해서 SDA를 D4에 연결하고 SCL을 D3에 연결하라!
  비접촉전류센서로 측정되는 모든 값을 한번 LCD에 띄워보자!


201-2.txt
0.00MB

예제 201-3 사물인터넷보드(wemos d1r1)에 MQTT를 publish할수 있는 환경을 구축하라!
  비접촉전류센서를 이용해서 측정할 수 있는 모든값을 각각의 topic에 담아서 스마트폰에 깔린 MQTT 어플리케이션으로 전송하라!


201-3.txt
0.00MB
관련라이브러리(emonlib)

https://github.com/openenergymonitor/EmonLib

관련라이브러리(LiquidCrystal_I2C)

https://github.com/johnrickman/LiquidCrystal_I2C

관련라이브러리(pubsubclient)

https://pubsubclient.knolleary.net/